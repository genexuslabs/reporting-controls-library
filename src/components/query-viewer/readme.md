# gx-query-viewer

<!-- Auto Generated Below -->


## Properties

| Property                          | Attribute                              | Description                                                                                                                     | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Default     |
| --------------------------------- | -------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| `allowElementsOrderChange`        | `allow-elements-order-change`          | Allowing elements order to change                                                                                               | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `allowPointSelect`                | `allow-point-select`                   | If type == Map, allow the points to be selected by clicking on the graphic (columns, point markers, pie slices, map areas etc). | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `false`     |
| `allowSelection`                  | `allow-selection`                      | Allow selection                                                                                                                 | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `attributeValuesForPivotTableXml` | `attribute-values-for-pivot-table-xml` | Response Attribute Values for Table                                                                                             | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `attributeValuesForTableXml`      | `attribute-values-for-table-xml`       | Response Attribute Values for Pivot Table                                                                                       | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `autoRefreshGroup`                | `auto-refresh-group`                   | Auto refresh group                                                                                                              | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `autoResize`                      | `auto-resize`                          | If type== PivotTable or Table, if true will shrink the table                                                                    | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `autoResizeType`                  | `auto-resize-type`                     | If autoResize, in here select the type, Width, height, or both                                                                  | `QueryViewerAutoResizeType.Both \| QueryViewerAutoResizeType.Horizontal \| QueryViewerAutoResizeType.Vertical`                                                                                                                                                                                                                                                                                                                                                                                                               | `undefined` |
| `calculatePivottableDataXml`      | `calculate-pivottable-data-xml`        | Response Pivot Table Data Calculation                                                                                           | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `chartType`                       | `chart-type`                           | If type == Chart, this is the chart type: Bar, Pie, Timeline, etc...                                                            | `QueryViewerChartType`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | `undefined` |
| `continent`                       | `continent`                            | If type == Map and region = Continent, this is the continent to display in the map                                              | `QueryViewerContinent.Africa \| QueryViewerContinent.Antarctica \| QueryViewerContinent.Asia \| QueryViewerContinent.Europe \| QueryViewerContinent.NorthAmerica \| QueryViewerContinent.Oceania \| QueryViewerContinent.SouthAmerica`                                                                                                                                                                                                                                                                                       | `undefined` |
| `controlName` _(required)_        | `control-name`                         | Specifies the name of the control used in the pivot and Table outputs types                                                     | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `country`                         | `country`                              | If type == Map and region = Country, this is the country to display in the map                                                  | `QueryViewerCountry`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | `undefined` |
| `cssClass`                        | `css-class`                            | A CSS class to set as the `gx-query-viewer` element class.                                                                      | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `dataVersionId`                   | `data-version-id`                      | Version of data                                                                                                                 | `number`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `description`                     | `description`                          | Description of the QueryViewer                                                                                                  | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `disableColumnSort`               | `disable-column-sort`                  | Allowing or not Column sort                                                                                                     | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `exportToHTML`                    | `export-to-h-t-m-l`                    | If type== PivotTable or Table allow to export to HTML                                                                           | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `exportToPDF`                     | `export-to-p-d-f`                      | If type== PivotTable or Table allow to export to PDF                                                                            | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `exportToXLS`                     | `export-to-x-l-s`                      | If type== PivotTable or Table allow to export to XLS                                                                            | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `exportToXLSX`                    | `export-to-x-l-s-x`                    | If type== PivotTable or Table allow to export to XLSX                                                                           | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `exportToXML`                     | `export-to-x-m-l`                      | If type== PivotTable or Table allow to export to XML                                                                            | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `footerFormat`                    | `footer-format`                        | If type == Map, this is a string to append to the tooltip format.                                                               | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `headerFormat`                    | `header-format`                        | If type == Map, this is the HTML of the tooltip header line                                                                     | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `includeMaxMin`                   | `include-max-min`                      | Specifies whether to include the maximum and minimum values in the series.                                                      | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `includeSparkline`                | `include-sparkline`                    | Specifies whether to include a sparkline chart for the values or not.                                                           | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `includeTrend`                    | `include-trend`                        | Specifies whether to include a trend mark for the values or not.                                                                | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `language`                        | `language`                             | Language of the QueryViewer                                                                                                     | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `mapType`                         | `map-type`                             | If type == Map, this is the map type: Choropleth or Bubble                                                                      | `QueryViewerMapType.Bubble \| QueryViewerMapType.Choropleth`                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `undefined` |
| `object`                          | `object`                               | Object of QueryViewer                                                                                                           | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `objectType`                      | `object-type`                          | Object type -> Query or DataProvider                                                                                            | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `orientation`                     | `orientation`                          | Orientation of the graph                                                                                                        | `QueryViewerOrientation.Horizontal \| QueryViewerOrientation.Vertical`                                                                                                                                                                                                                                                                                                                                                                                                                                                       | `undefined` |
| `pageDataForPivotTable`           | `page-data-for-pivot-table`            | Response Page Data                                                                                                              | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `pageDataForTable`                | `page-data-for-table`                  | Response Page Data                                                                                                              | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `pageSize`                        | `page-size`                            | If paging true, number of items for a single page                                                                               | `number`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `paging`                          | `paging`                               | If type == PivotTable or Table, if true there is paging, else everything in one table                                           | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `pivottableDataSyncXml`           | `pivottable-data-sync-xml`             | Response Pivot Table Data Sync                                                                                                  | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `plotSeries`                      | `plot-series`                          | Timeline                                                                                                                        | `QueryViewerPlotSeries.InSeparateCharts \| QueryViewerPlotSeries.InTheSameChart`                                                                                                                                                                                                                                                                                                                                                                                                                                             | `undefined` |
| `pointFormat`                     | `point-format`                         | If type == Map, this is the HTML of the point's line in the tooltip                                                             | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `queryTitle`                      | `query-title`                          | Title of the QueryViewer                                                                                                        | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `region`                          | `region`                               | If type == Map, this is the region to display in the map                                                                        | `QueryViewerRegion.Continent \| QueryViewerRegion.Country \| QueryViewerRegion.World`                                                                                                                                                                                                                                                                                                                                                                                                                                        | `undefined` |
| `rememberLayout`                  | `remember-layout`                      | For timeline for remembering layout                                                                                             | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `serviceResponse`                 | --                                     | Specifies the metadata and data that the control will use to render.                                                            | `{ MetaData: QueryViewerServiceMetaData; Data: QueryViewerServiceData; XML: QueryViewerServiceXML; Properties: QueryViewerBase; }`                                                                                                                                                                                                                                                                                                                                                                                           | `undefined` |
| `serviceResponsePivotTable`       | --                                     | Specifies the metadata that the control will use to render the pivotTable.                                                      | `{ MetaData: QueryViewerServiceMetaData; metadataXML: string; Properties: QueryViewerBase; objectName: string; useGxQuery: boolean; }`                                                                                                                                                                                                                                                                                                                                                                                       | `undefined` |
| `showDataAs`                      | `show-data-as`                         | Specifies whether to show the actual values, the values as a percentage of the target values, or both.                          | `QueryViewerShowDataAs.Percentages \| QueryViewerShowDataAs.Values \| QueryViewerShowDataAs.ValuesAndPercentages`                                                                                                                                                                                                                                                                                                                                                                                                            | `undefined` |
| `showDataLabelsIn`                | `show-data-labels-in`                  | Ax to show data labels                                                                                                          | `QueryViewerShowDataLabelsIn.Columns \| QueryViewerShowDataLabelsIn.Rows`                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `showValues`                      | `show-values`                          | if true show values on the graph                                                                                                | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `theme`                           | `theme`                                | Theme for showing the graph                                                                                                     | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `totalForColumns`                 | `total-for-columns`                    | True if grand total is shown for all table columns                                                                              | `QueryViewerTotal.No \| QueryViewerTotal.Yes`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `undefined` |
| `totalForRows`                    | `total-for-rows`                       | True if grand total is shown for all table rows                                                                                 | `QueryViewerTotal.No \| QueryViewerTotal.Yes`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `undefined` |
| `translations`                    | --                                     | For translate the labels of the outputs                                                                                         | `{ GXPL_QViewerSinceTheBeginningTrend: string; GXPL_QViewerLastYearTrend: string; GXPL_QViewerLastSemesterTrend: string; GXPL_QViewerLastQuarterTrend: string; GXPL_QViewerLastMonthTrend: string; GXPL_QViewerLastWeekTrend: string; GXPL_QViewerLastDayTrend: string; GXPL_QViewerLastHourTrend: string; GXPL_QViewerLastMinuteTrend: string; GXPL_QViewerLastSecondTrend: string; GXPL_QViewerCardMinimum: string; GXPL_QViewerCardMaximum: string; GXPL_QViewerNoDatetimeAxis: string; GXPL_QViewerNoMapAxis: string; }` | `undefined` |
| `trendPeriod`                     | `trend-period`                         | If `includeTrend == true`, this attribute specifies the period of time to calculate the trend.                                  | `QueryViewerTrendPeriod.LastDay \| QueryViewerTrendPeriod.LastHour \| QueryViewerTrendPeriod.LastMinute \| QueryViewerTrendPeriod.LastMonth \| QueryViewerTrendPeriod.LastQuarter \| QueryViewerTrendPeriod.LastSecond \| QueryViewerTrendPeriod.LastSemester \| QueryViewerTrendPeriod.LastWeek \| QueryViewerTrendPeriod.LastYear \| QueryViewerTrendPeriod.SinceTheBeginning`                                                                                                                                             | `undefined` |
| `type`                            | `type`                                 | Type of the QueryViewer: Table, PivotTable, Chart, Card                                                                         | `QueryViewerOutputType.Card \| QueryViewerOutputType.Chart \| QueryViewerOutputType.Default \| QueryViewerOutputType.Map \| QueryViewerOutputType.PivotTable \| QueryViewerOutputType.Pivot_Table \| QueryViewerOutputType.Table`                                                                                                                                                                                                                                                                                            | `undefined` |
| `xAxisIntersectionAtZero`         | `x-axis-intersection-at-zero`          | if true the x Axes intersect at zero                                                                                            | `boolean`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `undefined` |
| `xAxisLabels`                     | `x-axis-labels`                        | Labels for XAxis                                                                                                                | `QueryViewerXAxisLabels.Horizontally \| QueryViewerXAxisLabels.Rotated30 \| QueryViewerXAxisLabels.Rotated45 \| QueryViewerXAxisLabels.Rotated60 \| QueryViewerXAxisLabels.Vertically`                                                                                                                                                                                                                                                                                                                                       | `undefined` |
| `xAxisTitle`                      | `x-axis-title`                         | X Axis title                                                                                                                    | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `yAxisTitle`                      | `y-axis-title`                         | Y Axis title                                                                                                                    | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `undefined` |


## Events

| Event           | Description                                                                                                         | Type                                                                                                                                                                                                  |
| --------------- | ------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `changePage`    | EEvent fired when a user changes pages in the pivot table                                                           | `CustomEvent<any>`                                                                                                                                                                                    |
| `dragAndDrop`   | Event fires when a user drops a "draggable" element into its target                                                 | `CustomEvent<{ Name: string; Type: QueryViewerElementType; Axis: QueryViewerAxisType; Position: string; }>`                                                                                           |
| `filterChanged` | Event is triggered every time that values are removed from or added to the list of possible values for an attribute | `CustomEvent<{ Name: string; SelectedValues: { Item: string; }; }>`                                                                                                                                   |
| `firstPage`     | Event fired when a user navigates to the first page in the pivot table                                              | `CustomEvent<any>`                                                                                                                                                                                    |
| `itemClick`     | Event fire when a user click an "actionable" element                                                                | `CustomEvent<{ Name: string; Type: QueryViewerElementType; Axis: QueryViewerAxisType; Value: string; Selected: boolean; Context: QueryViewerContextElement[]; Filters: QueryViewerEventFilters[]; }>` |
| `itemCollapse`  | Event fired when a user collapses an item in the pivot table                                                        | `CustomEvent<{ Name: string; Value: string; ExpandedValues: [{ Item: string; }]; }>`                                                                                                                  |
| `itemExpand`    | Event fired when a user expands an item in the pivot table                                                          | `CustomEvent<{ Name: string; Value: string; ExpandedValues: [{ Item: string; }]; }>`                                                                                                                  |
| `lastPage`      | Event fired when a user navigates to the last page in the pivot table                                               | `CustomEvent<any>`                                                                                                                                                                                    |
| `nextPage`      | Event fired when a user navigates to the next page in the pivot table                                               | `CustomEvent<any>`                                                                                                                                                                                    |
| `previousPage`  | Event fired when a user navigates to the previous page in the pivot table                                           | `CustomEvent<any>`                                                                                                                                                                                    |


## Methods

### `getData() => Promise<any>`

Returns an XML on a string variable containing all the data for the attributes loaded in the Pivot Table.

#### Returns

Type: `Promise<any>`



### `getFilteredData() => Promise<any>`

Returns an XML on a string variable containing all the data for the attributes loaded in the Pivot Table.

#### Returns

Type: `Promise<any>`




## Dependencies

### Used by

 - [gx-query-render](../gx-query/query-render)

### Depends on

- [gx-query-viewer-card-controller](../query-viewer-card/controller)
- [gx-query-viewer-chart-controller](../query-viewer-chart/controller)
- [gx-query-viewer-map-controller](../query-viewer-map/controller)
- [gx-query-viewer-pivot-render](../query-viewer-pivot-table/controller)

### Graph
```mermaid
graph TD;
  gx-query-viewer --> gx-query-viewer-card-controller
  gx-query-viewer --> gx-query-viewer-chart-controller
  gx-query-viewer --> gx-query-viewer-map-controller
  gx-query-viewer --> gx-query-viewer-pivot-render
  gx-query-viewer-card-controller --> gx-query-viewer-card
  gx-query-viewer-card --> gx-query-viewer-chart
  gx-query-viewer-chart-controller --> gx-query-viewer-chart
  gx-query-viewer-chart-controller --> gx-query-viewer-slider
  gx-query-viewer-chart-controller --> gx-radio-group
  gx-query-viewer-chart-controller --> gx-radio-option
  gx-query-viewer-map-controller --> gx-query-viewer-map
  gx-query-viewer-pivot-render --> gx-query-viewer-pivot
  gx-query-render --> gx-query-viewer
  style gx-query-viewer fill:#f9f,stroke:#333,stroke-width:4px
```

----------------------------------------------

*Built with [StencilJS](https://stenciljs.com/)*
